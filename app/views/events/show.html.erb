<!-- app/views/events/show.html.erb -->
<div class="col-md-10 offset-md-1 mt-5">
  <div class="row">
    <div class="col-md-4 mb-4">
      <%= show_event_image @event %>
    </div>
    <div class="col-md-8">
      <h2><%= @event.title %></h2>
      <ul>
        <li><%= t ".date" %>: <%= @event.date %></li>
        <li><%= t ".address" %>: <%= @event.address %></li>
      </ul>
    </div>
  </div>
  <h5><%= t ".description" %></h5>
  <%= simple_format @event.description %>
  <%= link_to t(".edit"), edit_event_path(@event), class: "btn btn-primary" %>
  <%= button_tag t(".delete"), class: "btn btn-danger", data: { toggle: "modal", target: "#delete-event" } %>
  <%# if user_signed_in? %>
    <%#= button_to t(".join_delete"), event_join_path(@event), method: :delete, data: { confirm: "イベント参加をキャンセルしますか？" },class: "btn btn-warning" %>
    <%# if current_user.already_joined?(@event) %>
  <%# elsif user_signed_in? %>
    <%#= button_to t(".join_new"), event_joins_path(@event), class: "btn btn-info" %>
  <%# end %>
  <%= link_to "MYイベント", user_path, class: "btn btn-success" %>
  <%= link_to t(".return"), events_path, class: "btn btn-secondary" %>
</div>

<div class="modal fade" id="delete-event">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel"><%= t(".modal_title") %></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p><%= t(".question_event", event: @event.title) %></p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal"><%= t(".cancel") %></button>
        <%= link_to t(".delete_action"), event_path(@event), method: :delete, class: "btn btn-danger" %>
      </div>
    </div>
  </div>
</div>
